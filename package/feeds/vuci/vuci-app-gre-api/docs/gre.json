{
  "openapi": "3.0.0",
  "paths": {
    "/gre/config": {
      "post": {
        "summary": "Creates GRE section",
        "responses": {
          "201": {
            "description": "Created",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "description": "Operation status"
                    },
                    "data": {
                      "$ref": "#/components/schemas/gre_options_both"
                    }
                  }
                }
              }
            }
          },
          "422": {
            "$ref": "#/components/responses/422response"
          }
        },
        "requestBody": {
          "description": "Parameter section",
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "data": {
                    "$ref": "#/components/schemas/gre_options_both_no_service"
                  }
                }
              }
            }
          }
        },
        "operationId": "post-gre",
        "tags": ["General"]
      },
      "get": {
        "summary": "Returns all GRE configuration sections",
        "description": "Returns all sections with their parameters from gre configuration",
        "operationId": "get-gre",
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "description": "Operation status"
                    },
                    "data": {
                      "type": "array",
                      "items": {
                        "$ref": "#/components/schemas/gre_options_both"
                      }
                    }
                  }
                }
              }
            }
          }
        },
        "tags": ["General"]
      },
      "delete": {
        "summary": "Deletes specified GRE configurations",
        "responses": {
          "200": {
            "$ref": "#/components/responses/200deleted_multi"
          },
          "404": {
            "$ref": "#/components/responses/404response"
          },
          "422": {
            "$ref": "#/components/responses/422response"
          }
        },
        "requestBody": {
          "description": "Parameter section",
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "data": {
                    "type": "array",
                    "description": "Array of of section objects",
                    "items": {
                      "type": "string",
                      "description": "Section id"
                    }
                  }
                }
              }
            }
          }
        },
        "operationId": "delete-gre",
        "tags": ["General"]
      },
      "put": {
        "summary": "Updates the specified GRE configurations",
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "description": "Operation status"
                    },
                    "data": {
                      "$ref": "#/components/schemas/gre_options_both"
                    }
                  }
                }
              }
            }
          },
          "404": {
            "$ref": "#/components/responses/404response"
          },
          "422": {
            "$ref": "#/components/responses/422response"
          }
        },
        "requestBody": {
          "description": "Parameter section",
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "data": {
                    "type": "array",
                    "description": "Array of of section objects",
                    "items": {
                      "$ref": "#/components/schemas/gre_options_both_no_service"
                    }
                  }
                }
              }
            }
          }
        },
        "operationId": "put-gre",
        "tags": ["General"]
      },
      "parameters": [],
      "x-web": {
        "menu": ["Services", "VPN", "GRE"],
        "hw_tags": {
          "is_switch": false,
          "is_access_point": false
        },
        "name": "GRE"
      }
    },
    "/gre/config/{id}": {
      "get": {
        "summary": "Returns the specified GRE section",
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "description": "Operation status"
                    },
                    "data": {
                      "$ref": "#/components/schemas/gre_options_both"
                    }
                  }
                }
              }
            }
          },
          "404": {
            "$ref": "#/components/responses/404response"
          }
        },
        "operationId": "get-gre-cfg",
        "description": "",
        "tags": ["General"]
      },
      "delete": {
        "summary": "Deletes the specified GRE configuration",
        "responses": {
          "200": {
            "$ref": "#/components/responses/200deleted"
          },
          "404": {
            "$ref": "#/components/responses/404response"
          }
        },
        "operationId": "delete-gre-cfg",
        "tags": ["General"]
      },
      "put": {
        "tags": ["General"],
        "summary": "Updates the specified GRE configuration",
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "description": "Operation status"
                    },
                    "data": {
                      "$ref": "#/components/schemas/gre_options_both"
                    }
                  }
                }
              }
            }
          },
          "404": {
            "$ref": "#/components/responses/404response"
          },
          "422": {
            "$ref": "#/components/responses/422response"
          }
        },
        "requestBody": {
          "description": "Parameter section",
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "data": {
                    "$ref": "#/components/schemas/gre_options_index_no_service"
                  }
                }
              }
            }
          }
        },
        "operationId": "put-gre-cfg"
      },
      "parameters": [
        {
          "schema": {
            "type": "string"
          },
          "name": "id",
          "in": "path",
          "required": true,
          "description": "Uci configuration gre section identifier"
        }
      ],
      "x-web": {
        "menu": ["Services", "VPN", "GRE"],
        "hw_tags": {
          "is_switch": false,
          "is_access_point": false
        },
        "name": "GRE"
      }
    },
    "/gre/{id}/routes/config": {
      "get": {
        "summary": "Returns the selected GRE section's routes",
        "description": "Returns all sections with their parameters from gre configuration",
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "description": "Operation status"
                    },
                    "data": {
                      "type": "array",
                      "items": {
                        "$ref": "#/components/schemas/gre_route_options_both"
                      }
                    }
                  }
                }
              }
            }
          },
          "404": {
            "$ref": "#/components/responses/404response"
          }
        },
        "operationId": "get-gre-routes",
        "tags": ["General"]
      },
      "put": {
        "summary": "Updates the selected GRE section's selected routes",
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "description": "Operation status"
                    },
                    "data": {
                      "$ref": "#/components/schemas/gre_route_options_both"
                    }
                  }
                }
              }
            }
          },
          "404": {
            "$ref": "#/components/responses/404response"
          },
          "422": {
            "$ref": "#/components/responses/422response"
          }
        },
        "requestBody": {
          "description": "Parameter section",
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "data": {
                    "type": "array",
                    "description": "Array of of section objects",
                    "items": {
                      "$ref": "#/components/schemas/gre_route_options_both"
                    }
                  }
                }
              }
            }
          }
        },
        "operationId": "put-gre-routes",
        "tags": ["General"]
      },
      "delete": {
        "summary": "Deletes the selected GRE section's selected routes",
        "responses": {
          "200": {
            "$ref": "#/components/responses/200deleted_multi"
          },
          "404": {
            "$ref": "#/components/responses/404response"
          }
        },
        "requestBody": {
          "description": "Parameter section",
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "data": {
                    "type": "array",
                    "description": "Array of section objects",
                    "items": {
                      "type": "string",
                      "description": "Section id"
                    }
                  }
                }
              }
            }
          }
        },
        "operationId": "delete-gre-routes",
        "tags": ["General"]
      },
      "parameters": [
        {
          "schema": {
            "type": "string"
          },
          "name": "id",
          "in": "path",
          "required": true,
          "description": "Uci configuration gre section indetifier"
        }
      ],
      "post": {
        "summary": "Creates a route for the selected GRE section",
        "operationId": "post-services-gre-config-cfg-routes",
        "responses": {
          "201": {
            "description": "Created",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "description": "Operation status"
                    },
                    "data": {
                      "$ref": "#/components/schemas/gre_route_options_both"
                    }
                  }
                }
              }
            }
          },
          "404": {
            "$ref": "#/components/responses/404response"
          },
          "422": {
            "$ref": "#/components/responses/422response"
          }
        },
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "data": {
                    "$ref": "#/components/schemas/gre_route_options_index"
                  }
                }
              }
            }
          }
        },
        "description": "",
        "tags": ["General"]
      },
      "x-web": {
        "menu": ["Services", "VPN", "GRE"],
        "hw_tags": {
          "is_switch": false,
          "is_access_point": false
        },
        "name": "GRE"
      }
    },
    "/gre/{id}/routes/config/{routes_id}": {
      "get": {
        "summary": "Returns specified GRE route section",
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "description": "Operation status"
                    },
                    "data": {
                      "$ref": "#/components/schemas/gre_route_options_both"
                    }
                  }
                }
              }
            }
          },
          "404": {
            "$ref": "#/components/responses/404response"
          }
        },
        "operationId": "get-gre-routes-cfg",
        "description": "",
        "tags": ["General"]
      },
      "put": {
        "summary": "Updates the selected GRE section's selected route",
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "description": "Operation status"
                    },
                    "data": {
                      "$ref": "#/components/schemas/gre_route_options_both"
                    }
                  }
                }
              }
            }
          },
          "404": {
            "$ref": "#/components/responses/404response"
          },
          "422": {
            "$ref": "#/components/responses/422response"
          }
        },
        "requestBody": {
          "description": "Parameter section",
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "data": {
                    "$ref": "#/components/schemas/gre_route_options_index"
                  }
                }
              }
            }
          }
        },
        "operationId": "put-gre-routes-cfg",
        "tags": ["General"]
      },
      "delete": {
        "summary": "Deletes the selected GRE section's selected route",
        "responses": {
          "200": {
            "$ref": "#/components/responses/200deleted"
          },
          "404": {
            "$ref": "#/components/responses/404response"
          }
        },
        "operationId": "delete-gre-routes-cfg",
        "tags": ["General"]
      },
      "parameters": [
        {
          "schema": {
            "type": "string"
          },
          "name": "id",
          "in": "path",
          "required": true,
          "description": "Uci configuration gre section indetifier"
        },
        {
          "schema": {
            "type": "string"
          },
          "name": "routes_id",
          "in": "path",
          "required": true,
          "description": "Uci configuration gre route section indetifier"
        }
      ],
      "x-web": {
        "menu": ["Services", "VPN", "GRE"],
        "hw_tags": {
          "is_switch": false,
          "is_access_point": false
        },
        "name": "GRE"
      }
    }
  },
  "components": {
    "responses": {},
    "schemas": {
      "gre_options_both": {
        "description": "GRE configuration section",
        "title": "",
        "required": ["id"],
        "allOf": [
          {
            "type": "object",
            "properties": {
              "id": {
                "x-web": {
                  "pretty": "Configuration name",
                  "unique": true,
                  "input-type": "input"
                },
                "type": "string",
                "description": "Section name"
              }
            }
          },
          {
            "$ref": "#/components/schemas/gre_options_index"
          }
        ]
      },
      "gre_options_both_no_service": {
        "description": "GRE configuration section",
        "title": "",
        "allOf": [
          {
            "type": "object",
            "properties": {
              "id": {
                "x-web": {
                  "pretty": "Configuration name",
                  "unique": true,
                  "input-type": "input"
                },
                "type": "string",
                "description": "Section name"
              }
            }
          },
          {
            "$ref": "#/components/schemas/gre_options_index_no_service"
          }
        ]
      },
      "gre_options_index": {
        "type": "object",
        "description": "GRE configuration section",
        "title": "",
        "properties": {
          "enabled": {
            "x-web": {
              "pretty": "Enable",
              "input-type": "switch",
              "group": "Main settings"
            },
            "type": "string",
            "description": "Turns the GRE Tunnel instance on or off.",
            "enum": ["0", "1"]
          },
          "ipaddr_tunlink": {
            "x-web": {
              "pretty": "Tunnel source",
              "input-type": "input",
              "group": "Main settings"
            },
            "type": "string",
            "description": "Tunnel source. Network interface used to establish the GRE Tunnel."
          },
          "peeraddr": {
            "x-web": {
              "pretty": "Remote endpoint IP address",
              "input-type": "input",
              "group": "Main settings"
            },
            "type": "string",
            "description": "Remote endpoint IP address. IP address or hostname of the remote GRE Tunnel device."
          },
          "mtu": {
            "type": "string",
            "x-web": {
              "pretty": "MTU",
              "input-type": "input",
              "group": "Main settings"
            },
            "description": "Sets the maximum transmission unit (MTU) size. It is the largest size of a protocol data unit (PDU) that can be transmitted in a single network layer transaction.",
            "format": "irange(68, 9200)"
          },
          "okey": {
            "x-web": {
              "pretty": "Outbound key",
              "input-type": "input",
              "group": "Main settings"
            },
            "type": "string",
            "description": "Outbound key. Key for outgoing packets. This value should match the 'Inbound key' value set on the opposite GRE instance or both key values should be omitted on both sides. Allowed range [0"
          },
          "ikey": {
            "x-web": {
              "pretty": "Inbound key",
              "input-type": "input",
              "group": "Main settings"
            },
            "type": "string",
            "description": "Inbound key. Key for incoming packets. This value should match the 'Outbound key' value set on the opposite GRE instance or both key values should be omitted on both sides. Allowed range [0"
          },
          "df": {
            "x-web": {
              "pretty": "Path MTU Discovery",
              "input-type": "switch",
              "group": "Main settings"
            },
            "type": "string",
            "description": "Path MTU Discovery. When '0', sets the nopmtudisc option for tunnel. Can not be used together with the TTL option."
          },
          "ttl": {
            "x-web": {
              "pretty": "TTL",
              "input-type": "input",
              "group": "Main settings",
              "depends": [
                {
                  "df": "0"
                }
              ]
            },
            "type": "string",
            "description": "Sets a custom TTL (Time to Live) value for encapsulated packets. TTL is a field in the IP packet header which is initially set by the sender and decreased by 1 on each hop. When it reaches 0 it is dropped and the last host to receive the packet sends an ICMP 'Time Exceeded' message back to the source."
          },
          "keep_alive": {
            "x-web": {
              "pretty": "Keep alive",
              "input-type": "switch",
              "group": "Main settings"
            },
            "type": "string",
            "description": "Keep alive. The 'keep alive' feature sends packets to the remote instance in order to determine the health of the connection. If no response is received, the device will attempt to re"
          },
          "keep_alive_interval": {
            "format": "uinteger",
            "x-web": {
              "pretty": "Keep alive interval",
              "input-type": "input",
              "group": "Main settings",
              "depends": [
                {
                  "keep_alive": "1"
                }
              ]
            },
            "type": "string",
            "description": "Frequency (in seconds) at which 'keep alive' packets are sent to the remote instance. Range [1-255]."
          },
          "keep_alive_retries": {
            "format": "uinteger",
            "x-web": {
              "pretty": "Keep alive retries",
              "input-type": "input",
              "group": "Main settings",
              "depends": [
                {
                  "keep_alive": "1"
                }
              ]
            },
            "type": "string",
            "description": "Amount of keep alive packets to lose before marking tunnel as DOWN. Range [1-255]."
          },
          "tun_ipaddr": {
            "x-web": {
              "pretty": "Local GRE interface IP address",
              "input-type": "input",
              "group": "Tunnel Settings"
            },
            "type": "string",
            "description": "Local GRE interface IP address. IP address of the local GRE Tunnel instance."
          },
          "tun_netmask": {
            "x-web": {
              "pretty": "Local GRE interface netmask",
              "input-type": "input",
              "group": "Tunnel Settings"
            },
            "type": "string",
            "description": "Local GRE interface netmask. Subnet mask of the local GRE Tunnel instance."
          },
          "service": {
            "type": "string",
            "description": "Shows if configuration belongs to another service."
          }
        }
      },
      "gre_options_index_no_service": {
        "type": "object",
        "description": "GRE configuration section",
        "title": "",
        "properties": {
          "enabled": {
            "x-web": {
              "pretty": "Enable",
              "input-type": "switch",
              "group": "Main settings"
            },
            "type": "string",
            "description": "Turns the GRE Tunnel instance on or off.",
            "enum": ["0", "1"]
          },
          "ipaddr_tunlink": {
            "x-web": {
              "pretty": "Tunnel source",
              "input-type": "input",
              "group": "Main settings"
            },
            "type": "string",
            "description": "Tunnel source. Network interface used to establish the GRE Tunnel."
          },
          "peeraddr": {
            "x-web": {
              "pretty": "Remote endpoint IP address",
              "input-type": "input",
              "group": "Main settings"
            },
            "type": "string",
            "description": "Remote endpoint IP address. IP address or hostname of the remote GRE Tunnel device."
          },
          "mtu": {
            "type": "string",
            "x-web": {
              "pretty": "MTU",
              "input-type": "input",
              "group": "Main settings"
            },
            "description": "Sets the maximum transmission unit (MTU) size. It is the largest size of a protocol data unit (PDU) that can be transmitted in a single network layer transaction.",
            "format": "irange(68, 9200)"
          },
          "okey": {
            "x-web": {
              "pretty": "Outbound key",
              "input-type": "input",
              "group": "Main settings"
            },
            "type": "string",
            "description": "Outbound key. Key for outgoing packets. This value should match the 'Inbound key' value set on the opposite GRE instance or both key values should be omitted on both sides. Allowed range [0"
          },
          "ikey": {
            "x-web": {
              "pretty": "Inbound key",
              "input-type": "input",
              "group": "Main settings"
            },
            "type": "string",
            "description": "Inbound key. Key for incoming packets. This value should match the 'Outbound key' value set on the opposite GRE instance or both key values should be omitted on both sides. Allowed range [0"
          },
          "df": {
            "x-web": {
              "pretty": "Path MTU Discovery",
              "input-type": "switch",
              "group": "Main settings"
            },
            "type": "string",
            "description": "Path MTU Discovery. When '0', sets the nopmtudisc option for tunnel. Can not be used together with the TTL option."
          },
          "ttl": {
            "x-web": {
              "pretty": "TTL",
              "input-type": "input",
              "group": "Main settings",
              "depends": [
                {
                  "df": "0"
                }
              ]
            },
            "type": "string",
            "description": "Sets a custom TTL (Time to Live) value for encapsulated packets. TTL is a field in the IP packet header which is initially set by the sender and decreased by 1 on each hop. When it reaches 0 it is dropped and the last host to receive the packet sends an ICMP 'Time Exceeded' message back to the source."
          },
          "keep_alive": {
            "x-web": {
              "pretty": "Keep alive",
              "input-type": "switch",
              "group": "Main settings"
            },
            "type": "string",
            "description": "Keep alive. The 'keep alive' feature sends packets to the remote instance in order to determine the health of the connection. If no response is received, the device will attempt to re"
          },
          "keep_alive_interval": {
            "format": "uinteger",
            "x-web": {
              "pretty": "Keep alive interval",
              "input-type": "input",
              "group": "Main settings",
              "depends": [
                {
                  "keep_alive": "1"
                }
              ]
            },
            "type": "string",
            "description": "Frequency (in seconds) at which 'keep alive' packets are sent to the remote instance. Range [1-255]."
          },
          "keep_alive_retries": {
            "format": "uinteger",
            "x-web": {
              "pretty": "Keep alive retries",
              "input-type": "input",
              "group": "Main settings",
              "depends": [
                {
                  "keep_alive": "1"
                }
              ]
            },
            "type": "string",
            "description": "Amount of keep alive packets to lose before marking tunnel as DOWN. Range [1-255]."
          },
          "tun_ipaddr": {
            "x-web": {
              "pretty": "Local GRE interface IP address",
              "input-type": "input",
              "group": "Tunnel Settings"
            },
            "type": "string",
            "description": "Local GRE interface IP address. IP address of the local GRE Tunnel instance."
          },
          "tun_netmask": {
            "x-web": {
              "pretty": "Local GRE interface netmask",
              "input-type": "input",
              "group": "Tunnel Settings"
            },
            "type": "string",
            "description": "Local GRE interface netmask. Subnet mask of the local GRE Tunnel instance."
          }
        }
      },
      "gre_route_options_both": {
        "description": "GRE route configuration section",
        "allOf": [
          {
            "type": "object",
            "properties": {
              "id": {
                "x-web": {
                  "pretty": "Configuration ID",
                  "input-type": "input"
                },
                "type": "string",
                "description": "Section name"
              }
            }
          },
          {
            "$ref": "#/components/schemas/gre_route_options_index"
          }
        ]
      },
      "gre_route_options_index": {
        "description": "GRE route configuration section",
        "type": "object",
        "required": ["target"],
        "properties": {
          "target": {
            "x-web": {
              "pretty": "Remote subnet IP address",
              "unique": true,
              "input-type": "input"
            },
            "type": "string",
            "description": "Remote subnet IP address. LAN IP address of the device that hosts the remote GRE Tunnel instance."
          },
          "netmask": {
            "x-web": {
              "pretty": "Remote subnet netmask",
              "input-type": "input"
            },
            "type": "string",
            "description": "Remote subnet netmask. LAN subnet mask of the device that hosts the remote GRE Tunnel instance."
          }
        }
      }
    }
  },
  "info": {
    "version": "1.0",
    "title": "GRE",
    "description": "GRE api documentation"
  },
  "tags": [
    {
      "name": "General"
    }
  ]
}
